# Animal Data Organization AnDO

*Authors:
Sylvain Takerkart (sylvain.takerkart@univ-amu.fr)
Frédéric Barthélemy (frederic.barthelemy@univ-amu.fr)
Kevin Blaize (kevin.blaize@univ-amu.fr)
Jérémy Garcia (jeremy.garcia@univ-amu.fr)*

## 1. Introduction

This is the very first draft of a BIDS-like ( <https://bids.neuroimaging.io/> ) set of specifications for a directory organization and a file naming convention dedicated to experimental data recorded in animals. It is very inspired by the BIDS specifications themselves ( <https://bids-specification.readthedocs.io> ; <https://github.com/bids-standard/bids-specification> ). The main difference lies in the fact that in experiments conducted with animals, it is very common to have different settings for different sessions, and more importantly for different animals (whereas research on human subjects tends to have exactly the same protocol used for all subjects, as looked after by the BIDS specifications).

It follows a hierarchy of directories matched with the following concepts, as they are used in research studies conducted with animal models:

Dataset. A set of experimental data acquired for the purpose of a particular study. It is composed of data acquired in one or more animals, with one or more sessions recorded in each animal.
Subject. An animal that was included in the study.
Session. A temporal grouping of experimental data recorded in a given animal, on a given day. There can be several sessions on the same day if the recording settings are modified between sessions or if the recording needs to be interrupted and restarted.

## 2.Directory organization and naming

### 2.1 Dataset directory

At the top level of the hierarchy, a single directory contains all the sub-directories and files associated with a dataset, which corresponds to an experiment. It must be called:

**exp-NAME**

where:
- ‘exp-’ is an imposed prefix;
- ‘NAME’ is a string designating the name of your experiment (it can include the name of the modality if wished by the research group)

### 2.2 Subject directories

Within the top-level dataset directory, there should be one directory for each animal subject that was included in the study. Each subject directory should be called:

**sub-GUID**

where:
- ‘sub-’ is an imposed prefix;
- ‘GUID’ is a string designating the Global Unique IDentifier of the animal.

No other file or directory can be present within a dataset directory.

### 2.3 Session directories

Within each subject directory, there should be one directory for each data recording session that was performed with this animal. Each session directory should be called:

**ses-YYYYMMDD_XXX_BBBB**

Where:
- ‘ses-’ is an imposed prefix;
- ‘YYYYMMDD’ is the date of the session (6 digits, for instance 20180430 for April 30, 2018);
- ‘XXX’ is the number of the session acquired on that date (3 digits, for instance 001 for the first session);

- ‘BBBB’ is a string freely usable by the research group / user (for instance to add extra info on the version of the experimental protocol, on the type of preparation, on the user-friendly name of the animal etc.); this string cannot contain the underscore character.

No other file or directory can be present within a subject directory.

### 2.4 Content of the session directories

Within each session directory, three sub-directories must be present:

- ‘rawdata’. This directory must contain the raw data recorded during this session. It can consist of one or several files. For now, no naming convention / restriction are enforced on these files. Furthermore, they can be in any file format.
- ‘metadata’. This directory must gather the metadata associated with this data, both primary and secondary metadata (i.e, respectively generated automatically by the experimental setup, and generated by the experimenter). For now, no naming convention / restriction are enforced on these files. Furthermore, it can be in any file format (recommended formats are .csv, .json, .odml).
- ‘derivatives’. This directory can be used to store the data after preprocessing or processing. Its use is optional (each research group can choose to store its processed data in some other location). 

### 2.5 Exemples


- Data/exp-[project name]/sub-[subject name]/ses-YYYYMMDD_XXX_BBBB
- Data/exp-[project name]/sub-[subject name]/ses-YYYYMMDD_XXX_BBBB/rawdata
- Data/exp-[project name]/sub-[subject name]/ses-YYYYMMDD_XXX_BBBB/metadata
- Data/exp-[project name]/sub-[subject name]/ses-YYYYMMDD_XXX_BBBB/derivatives



![enter image description here](AnDODiagram.png)

## 3. The AnDOChecker application

We have developed an application that allows checking the validity of a top-level directory (dataset directory) given as input with respect to the specifications detailed in the previous section. The version v0.1 of this application provides a command line interface. A web-based interface will be provided in the following version, which should be available before the end of May 2020.

